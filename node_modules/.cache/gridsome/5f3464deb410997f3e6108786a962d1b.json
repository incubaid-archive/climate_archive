{"remainingRequest":"/home/ehab/codewww/github/threefoldfoundation/www_climate_action_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ehab/codewww/github/threefoldfoundation/www_climate_action_project/src/templates/Tag.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ehab/codewww/github/threefoldfoundation/www_climate_action_project/src/templates/Tag.vue","mtime":1660041252166},{"path":"/home/ehab/codewww/github/threefoldfoundation/www_climate_action_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ehab/codewww/github/threefoldfoundation/www_climate_action_project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ehab/codewww/github/threefoldfoundation/www_climate_action_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ehab/codewww/github/threefoldfoundation/www_climate_action_project/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\r\nimport PostListItem from \"~/components/custom/Cards/PostListItem.vue\";\r\nimport Pagination from \"~/components/custom/Pagination.vue\";\r\nimport TagFilterHeader from \"~/components/custom/TagFilterHeader.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    Pagination,\r\n    PostListItem,\r\n    TagFilterHeader,\r\n  },\r\n\r\n  computed: {\r\n    title() {\r\n      return this.tags.title;\r\n    },\r\n    tagTitles() {\r\n      var path = \"\";\r\n      var tags = null;\r\n      if (this.$page.projectTag) {\r\n        path = \"/partners\";\r\n        tags = this.$page.allProjectTag;\r\n      } else if (this.$page.newsTag) {\r\n        path = \"/news\";\r\n        tags = this.$page.allNewsTag;\r\n      } else if (this.$page.blogTag) {\r\n        path = \"/blog\";\r\n        tags = this.$page.allBlogTag;\r\n      }\r\n\r\n      var res = [{ title: \"All Tags\", path: path }];\r\n      tags.edges.forEach((edge) =>\r\n        res.push({ title: edge.node.title, path: edge.node.path })\r\n      );\r\n      return res;\r\n    },\r\n\r\n    tags() {\r\n      return this.$page.projectTag || this.$page.newsTag || this.$page.blogTag;\r\n    },\r\n    item() {\r\n      var plural = this.tags.belongsTo.totalCount > 0;\r\n      if (this.$page.projectTag) {\r\n        if (plural) return \"projects\";\r\n        return \"project\";\r\n      }\r\n\r\n      if (this.$page.newsTag) {\r\n        if (plural) return \"posts\";\r\n        return \"post\";\r\n      }\r\n\r\n      if (this.$page.blogTag) {\r\n        if (plural) return \"posts\";\r\n        return \"post\";\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    resetAll() {\r\n      this.$router.push({ path: \"/news\" });\r\n    },\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"click\", this.close);\r\n    console.log(this.$page.projectTag);\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener(\"click\", this.close);\r\n  },\r\n\r\n  metaInfo() {\r\n    return {\r\n      title: this.tags.title,\r\n    };\r\n  },\r\n};\r\n",{"version":3,"sources":["Tag.vue"],"names":[],"mappings":";AAsKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Tag.vue","sourceRoot":"src/templates","sourcesContent":["<template>\r\n  <Layout :hideHeader=\"true\" :disableScroll=\"true\">\r\n    <TagFilterHeader\r\n      @resetAll=\"resetAll\"\r\n      :tags=\"tagTitles\"\r\n      :selected=\"title\"\r\n      v-if=\"tagTitles.length > 2\"\r\n    />\r\n    <div class=\"container sm:px-0 mx-auto overflow-x-hidden pt-12\">\r\n      <div class=\"mx-4 sm:mx-0\">\r\n        <h1 class=\"pb-0 mb-0 text-5xl font-medium capitalize\">\r\n          {{ tags.title }}\r\n        </h1>\r\n        <p class=\"text-gray-700 text-xl\">\r\n          <span class=\"self-center\"\r\n            >{{ tags.belongsTo.totalCount }} {{ item }}</span\r\n          >\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"pt-8 border-b\"></div>\r\n\r\n      <div class=\"flex flex-wrap pt-8 pb-8 mx-4 sm:-mx-4\">\r\n        <PostListItem\r\n          v-for=\"edge in tags.belongsTo.edges\"\r\n          :key=\"edge.node.id\"\r\n          :record=\"edge.node\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"pagination flex justify-center mb-8\">\r\n        <Pagination\r\n          :baseUrl=\"tags.path\"\r\n          :currentPage=\"tags.belongsTo.pageInfo.currentPage\"\r\n          :totalPages=\"tags.belongsTo.pageInfo.totalPages\"\r\n          :maxVisibleButtons=\"5\"\r\n          v-if=\"tags.belongsTo.pageInfo.totalPages > 1\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<page-query>\r\n  query($id: ID!) {\r\n    projectTag(id: $id) {\r\n      title\r\n      path\r\n      belongsTo{\r\n        totalCount\r\n        pageInfo {\r\n          totalPages\r\n          currentPage\r\n        }\r\n        edges {\r\n          node {\r\n            ... on Project {\r\n              title\r\n              excerpt\r\n              image(width:800)\r\n              path\r\n             \r\n              datetime : created\r\n              \r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    newsTag(id: $id) {\r\n      title\r\n      path\r\n      belongsTo{\r\n        totalCount\r\n        pageInfo {\r\n          totalPages\r\n          currentPage\r\n        }\r\n        edges {\r\n          node {\r\n            ... on News {\r\n              title\r\n              excerpt\r\n              image(width:800)\r\n              path\r\n              timeToRead\r\n              humanTime : created(format:\"DD MMM YYYY\")\r\n              datetime : created\r\n              authors {\r\n                id\r\n                name\r\n                image(width:64, height:64, fit:inside)\r\n                path\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } \r\n\r\n    blogTag(id: $id) {\r\n      title\r\n      path\r\n      belongsTo{\r\n        totalCount\r\n        pageInfo {\r\n          totalPages\r\n          currentPage\r\n        }\r\n        edges {\r\n          node {\r\n            ... on Blog {\r\n              title\r\n              excerpt\r\n              image(width:800)\r\n              path\r\n              timeToRead\r\n              humanTime : created(format:\"DD MMM YYYY\")\r\n              datetime : created\r\n              authors {\r\n                id\r\n                name\r\n                image(width:64, height:64, fit:inside)\r\n                path\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    allProjectTag(filter: { title: {in: [\"farming\", \"cloud\", \"grid\", \"digitaltwin\"]}}){\r\n      edges{\r\n        node{\r\n          id\r\n          title\r\n          path\r\n        }\r\n      }\r\n    }\r\n\r\n    allNewsTag{\r\n     edges{\r\n      node{\r\n        id\r\n        title\r\n        path\r\n      }\r\n    }\r\n    }\r\n\r\n    allBlogTag{\r\n     edges{\r\n      node{\r\n        id\r\n        title\r\n        path\r\n      }\r\n    }\r\n} \r\n\r\n  }\r\n</page-query>\r\n\r\n<script>\r\nimport PostListItem from \"~/components/custom/Cards/PostListItem.vue\";\r\nimport Pagination from \"~/components/custom/Pagination.vue\";\r\nimport TagFilterHeader from \"~/components/custom/TagFilterHeader.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    Pagination,\r\n    PostListItem,\r\n    TagFilterHeader,\r\n  },\r\n\r\n  computed: {\r\n    title() {\r\n      return this.tags.title;\r\n    },\r\n    tagTitles() {\r\n      var path = \"\";\r\n      var tags = null;\r\n      if (this.$page.projectTag) {\r\n        path = \"/partners\";\r\n        tags = this.$page.allProjectTag;\r\n      } else if (this.$page.newsTag) {\r\n        path = \"/news\";\r\n        tags = this.$page.allNewsTag;\r\n      } else if (this.$page.blogTag) {\r\n        path = \"/blog\";\r\n        tags = this.$page.allBlogTag;\r\n      }\r\n\r\n      var res = [{ title: \"All Tags\", path: path }];\r\n      tags.edges.forEach((edge) =>\r\n        res.push({ title: edge.node.title, path: edge.node.path })\r\n      );\r\n      return res;\r\n    },\r\n\r\n    tags() {\r\n      return this.$page.projectTag || this.$page.newsTag || this.$page.blogTag;\r\n    },\r\n    item() {\r\n      var plural = this.tags.belongsTo.totalCount > 0;\r\n      if (this.$page.projectTag) {\r\n        if (plural) return \"projects\";\r\n        return \"project\";\r\n      }\r\n\r\n      if (this.$page.newsTag) {\r\n        if (plural) return \"posts\";\r\n        return \"post\";\r\n      }\r\n\r\n      if (this.$page.blogTag) {\r\n        if (plural) return \"posts\";\r\n        return \"post\";\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    resetAll() {\r\n      this.$router.push({ path: \"/news\" });\r\n    },\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"click\", this.close);\r\n    console.log(this.$page.projectTag);\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener(\"click\", this.close);\r\n  },\r\n\r\n  metaInfo() {\r\n    return {\r\n      title: this.tags.title,\r\n    };\r\n  },\r\n};\r\n</script>\r\n"]}]}